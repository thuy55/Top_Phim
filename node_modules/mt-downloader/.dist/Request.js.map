{"version":3,"sources":["../src/Request.js"],"names":["ev","curry","$","event","filter","whereEq","pluck","RequestParams","request","params","create","observer","on","message","onNext","onCompleted","error","onError","Request","Response$","response$","data$"],"mappings":"AAAA;;;;AAIA;;;;;;;AAEA;;AACA;;AACA;;;;;;AAEO,MAAMA,kBAAK,gBAAEC,KAAF,CAAQ,CAACC,CAAD,EAAIC,KAAJ,KAAcD,EAAEE,MAAF,CAAS,gBAAEC,OAAF,CAAU,EAACF,KAAD,EAAV,CAAT,EAA6BG,KAA7B,CAAmC,SAAnC,CAAtB,CAAX;;AAEA,MAAMC,wCAAgB,gBAAEN,KAAF,CAAQ,CAACO,OAAD,EAAUC,MAAV,KAAqB;AACxD,SAAO,eAAEC,MAAF,CAAUC,QAAD,IAAcH,QAAQC,MAAR,EAC3BG,EAD2B,CACxB,MADwB,EACfC,OAAD,IAAaF,SAASG,MAAT,CAAgB,EAACX,OAAO,MAAR,EAAgBU,OAAhB,EAAhB,CADG,EAE3BD,EAF2B,CAExB,UAFwB,EAEXC,OAAD,IAAaF,SAASG,MAAT,CAAgB,EAACX,OAAO,UAAR,EAAoBU,OAApB,EAAhB,CAFD,EAG3BD,EAH2B,CAGxB,UAHwB,EAGZ,MAAMD,SAASI,WAAT,EAHM,EAI3BH,EAJ2B,CAIxB,OAJwB,EAIdI,KAAD,IAAWL,SAASM,OAAT,CAAiBD,KAAjB,CAJI,CAAvB,CAAP;AAMD,CAP4B,CAAtB;;AASA,MAAME,4BAAU,gBAAEjB,KAAF,CAAQ,CAACO,OAAD,EAAUC,MAAV,KAAqB;AAClD,QAAMU,YAAYnB,GAAGO,cAAcC,OAAd,EAAuBC,MAAvB,CAAH,CAAlB;AACA,SAAO,gBAAI;AACTW,eAAWD,UAAU,UAAV,CADF;AAETE,WAAOF,UAAU,MAAV;AAFE,GAAJ,CAAP;AAID,CANsB,CAAhB","file":"Request.js","sourcesContent":["/**\n * Created by tushar.mathur on 18/06/16.\n */\n\n'use strict'\n\nimport {Observable as O} from 'rx'\nimport {mux} from 'muxer'\nimport R from 'ramda'\n\nexport const ev = R.curry(($, event) => $.filter(R.whereEq({event})).pluck('message'))\n\nexport const RequestParams = R.curry((request, params) => {\n  return O.create((observer) => request(params)\n    .on('data', (message) => observer.onNext({event: 'data', message}))\n    .on('response', (message) => observer.onNext({event: 'response', message}))\n    .on('complete', () => observer.onCompleted())\n    .on('error', (error) => observer.onError(error))\n  )\n})\n\nexport const Request = R.curry((request, params) => {\n  const Response$ = ev(RequestParams(request, params))\n  return mux({\n    response$: Response$('response'),\n    data$: Response$('data')\n  })\n})\n"]}